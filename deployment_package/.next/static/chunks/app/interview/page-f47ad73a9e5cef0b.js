(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[66],{2725:(e,t,s)=>{Promise.resolve().then(s.bind(s,6001))},6001:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var l=s(2860),a=s(3200),i=s(6937),n=s(6983),r=s(5743);function o(e){let{questions:t,jobData:o,sessionId:c}=e,d=(0,i.useRouter)(),[u,m]=(0,a.useState)(0),[h,x]=(0,a.useState)({}),[p,f]=(0,a.useState)(""),[b,g]=(0,a.useState)(!1),[w,y]=(0,a.useState)(null),[j,v]=(0,a.useState)(!1),[N,S]=(0,a.useState)({}),[k,P]=(0,a.useState)(!1),[T,C]=(0,a.useState)(null),[I,q]=(0,a.useState)(null),E=t[u];(0,a.useEffect)(()=>{Promise.all([s.e(46),s.e(928)]).then(s.bind(s,928)).then(e=>{let{AudioRecorder:t}=e;t.isSupported()&&C(new t)})},[]);let R=async()=>{if(!T){q("Audio recording is not supported in your browser");return}q(null);try{if(k){await T.stopRecording(),P(!1),f(p+(p?"\n\n":"")+"Transcribing audio...");try{await new Promise(e=>setTimeout(e,1500)),f(p.replace("Transcribing audio...","This is a simulated transcription of your voice recording. In the actual implementation, this would be the text returned by the Whisper API."))}catch(e){console.error("Error transcribing audio:",e),q("Failed to transcribe audio. Please try again."),f(p.replace("Transcribing audio...",""))}}else await T.startRecording(),P(!0)}catch(e){console.error("Error with recording:",e),P(!1),q("Failed to access microphone. Please check your permissions and try again.")}},A=async()=>{if(p.trim()&&!b){g(!0);try{let e=E.id,t={...h,[e]:p};x(t),await new Promise(e=>setTimeout(e,1500));let s={strengths:["Provides specific examples","Shows technical knowledge"],weaknesses:["Could be more concise","Missing some key competencies"],missingCompetencies:1===u?["Problem-solving methodology"]:[],score:7.5+1.5*Math.random(),needsFollowUp:1===u},l={...N,[e]:s};S(l),s.needsFollowUp?(y("Can you elaborate on your problem-solving methodology? What specific steps do you take when approaching a complex issue?"),v(!0),f("")):D()}catch(e){console.error("Error submitting answer:",e),D()}finally{g(!1)}}},D=()=>{u<t.length-1?(m(u+1),f("")):F()},F=()=>{d.push("/feedback?sessionId=".concat(c))},_=(u+1)/t.length*100;return(0,l.jsxs)("div",{className:"max-w-3xl mx-auto p-6 bg-slate-800 rounded-lg shadow-md border border-slate-700",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,l.jsxs)("span",{className:"text-sm font-medium text-slate-300",children:["Question ",u+1," of ",t.length]}),(0,l.jsxs)("span",{className:"text-sm font-medium text-slate-300",children:[Math.round(_),"% Complete"]})]}),(0,l.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-2.5",children:(0,l.jsx)("div",{className:"bg-teal-500 h-2.5 rounded-full",style:{width:"".concat(_,"%")}})})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:j?"Follow-up Question":"Question ".concat(u+1)}),(0,l.jsx)("p",{className:"text-white p-4 bg-slate-700 rounded-lg border border-slate-600",children:j?w:E.text}),(0,l.jsxs)("div",{className:"mt-2 flex items-center text-sm",children:[(0,l.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("easy"===E.difficulty?"bg-green-900/50 text-green-300":"medium"===E.difficulty?"bg-yellow-900/50 text-yellow-300":"bg-red-900/50 text-red-300"),children:E.difficulty.charAt(0).toUpperCase()+E.difficulty.slice(1)}),(0,l.jsx)("span",{className:"mx-2 text-slate-400",children:"â€¢"}),(0,l.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("technical"===E.type?"bg-purple-900/50 text-purple-300":"behavioral"===E.type?"bg-blue-900/50 text-blue-300":"bg-indigo-900/50 text-indigo-300"),children:E.type.charAt(0).toUpperCase()+E.type.slice(1)})]})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{htmlFor:"answer",className:"block text-sm font-medium text-slate-300 mb-2",children:"Your Answer"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("textarea",{id:"answer",rows:6,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-teal-500 focus:border-teal-500 text-white placeholder-slate-400",placeholder:"Type your answer here or use voice recording...",value:p,onChange:e=>{f(e.target.value)}}),(0,l.jsx)("button",{type:"button",onClick:R,className:"absolute bottom-3 right-3 p-2 rounded-full ".concat(k?"bg-red-500 text-white":"bg-slate-600 text-white hover:bg-slate-500"),"aria-label":k?"Stop recording":"Start recording",children:k?(0,l.jsx)(n.A,{className:"w-5 h-5"}):(0,l.jsx)(r.A,{className:"w-5 h-5"})})]}),k&&(0,l.jsxs)("div",{className:"mt-2 flex items-center text-red-400",children:[(0,l.jsx)("span",{className:"inline-block w-3 h-3 mr-2 bg-red-500 rounded-full animate-pulse"}),"Recording..."]})]}),(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsx)("button",{type:"button",className:"px-4 py-2 bg-teal-500 text-white rounded-md hover:bg-teal-600 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 focus:ring-offset-slate-800 disabled:opacity-50",onClick:j?()=>{if(!p.trim()||b)return;let e=E.id;x({...h,["".concat(e,"_followup")]:p}),y(null),v(!1),f(""),D()}:A,disabled:!p.trim()||b,children:b?"Submitting...":"Submit Answer"})})]})}function c(e){let{user:t}=e,s=(0,i.useRouter)(),[n,r]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),[u,m]=(0,a.useState)(null),[h,x]=(0,a.useState)([]),[p,f]=(0,a.useState)(null),[b,g]=(0,a.useState)("");return((0,a.useEffect)(()=>{{let e=new URLSearchParams(window.location.search).get("documentId");if(r(e),!e&&"undefined"!=typeof document&&"complete"===document.readyState){let e=setTimeout(()=>{m("No document ID provided"),d(!1)},500);return()=>clearTimeout(e)}}},[]),(0,a.useEffect)(()=>{n&&async function(){try{c||d(!0),await new Promise(e=>setTimeout(e,1e3));let e={questions:[{id:"q1",text:"Can you describe your experience with React?",type:"technical",skill:"React",difficulty:"medium"},{id:"q2",text:"Tell me about a time when you had to troubleshoot a complex bug.",type:"behavioral",skill:"Problem-solving",difficulty:"medium"},{id:"q3",text:"How do you approach optimizing the performance of a web application?",type:"technical",skill:"Performance Optimization",difficulty:"hard"},{id:"q4",text:"Describe a situation where you had to learn a new technology quickly to complete a project.",type:"behavioral",skill:"Learning Agility",difficulty:"medium"},{id:"q5",text:"How would you implement state management in a large-scale React application?",type:"technical",skill:"State Management",difficulty:"hard"}],jobData:{jobTitle:"Senior Frontend Developer",company:"Tech Innovations Inc.",requiredSkills:["JavaScript","React","TypeScript","Performance Optimization"],preferredSkills:["Next.js","GraphQL","Redux"],responsibilities:["Develop web applications","Optimize performance","Mentor junior developers"],qualifications:["Bachelor's degree","5+ years experience"],companyValues:["Innovation","Collaboration","Quality"]},sessionId:"session_".concat(Date.now())};x(e.questions),f(e.jobData),g(e.sessionId),d(!1)}catch(e){console.error("Error fetching questions:",e),m("Failed to generate interview questions. Please try again."),d(!1)}}()},[n,c]),c)?(0,l.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:(0,l.jsxs)("div",{className:"w-full max-w-md p-8 bg-slate-800 rounded-lg shadow-md border border-slate-700",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-center text-white mb-6",children:"Preparing Your Interview"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-2.5 mb-4",children:(0,l.jsx)("div",{className:"bg-teal-500 h-2.5 rounded-full animate-pulse",style:{width:"70%"}})}),(0,l.jsx)("p",{className:"text-center text-slate-300",children:"Analyzing job description and generating relevant interview questions..."})]})]})}):u?(0,l.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:(0,l.jsxs)("div",{className:"w-full max-w-md p-8 bg-slate-800 rounded-lg shadow-md border border-slate-700",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-center text-red-400 mb-6",children:"Error"}),(0,l.jsx)("p",{className:"text-center text-slate-300 mb-6",children:u}),(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsx)("button",{onClick:()=>s.push("/"),className:"px-4 py-2 bg-teal-500 text-white rounded-md hover:bg-teal-600 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 focus:ring-offset-slate-800",children:"Go Back"})})]})}):(0,l.jsx)("div",{className:"min-h-screen py-8 px-4",children:(0,l.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,l.jsxs)("header",{className:"mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-white",children:"The IG Interview Coach"}),(0,l.jsxs)("p",{className:"text-slate-300 mt-2",children:["Position: ",(null==p?void 0:p.jobTitle)||"Software Engineer"," at ",(null==p?void 0:p.company)||"Tech Company"]})]}),h.length>0&&p&&(0,l.jsx)(o,{questions:h,jobData:p,sessionId:b})]})})}let d=(0,s(451).r)(function(e){let{user:t}=e;return(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:(0,l.jsxs)("div",{className:"w-full max-w-md p-8 bg-slate-800 rounded-lg shadow-md border border-slate-700",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-center text-white mb-6",children:"Loading Interview"}),(0,l.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-2.5 mb-4",children:(0,l.jsx)("div",{className:"bg-teal-500 h-2.5 rounded-full animate-pulse",style:{width:"70%"}})})]})}),children:(0,l.jsx)(c,{user:t})})})}},e=>{var t=t=>e(e.s=t);e.O(0,[100,683,685,411,358],()=>t(2725)),_N_E=e.O()}]);