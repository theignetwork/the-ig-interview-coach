(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{515:(e,t,s)=>{Promise.resolve().then(s.bind(s,2131))},2131:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(2860),l=s(3200),r=s(451),n=s(4612),i=s.n(n);function o(){let[e,t]=(0,l.useState)(""),[s,n]=(0,l.useState)(""),[o,d]=(0,l.useState)(!1),[c,u]=(0,l.useState)(null),[m,h]=(0,l.useState)("login"),{signIn:x,signUp:p}=(0,r.A)(),b=async t=>{t.preventDefault(),u(null),d(!0);try{let t;(t="login"===m?await x(e,s):await p(e,s)).error&&u(t.error.message)}catch(e){u("An unexpected error occurred"),console.error(e)}finally{d(!1)}};return(0,a.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"w-full max-w-md",children:[(0,a.jsxs)("div",{className:"text-center mb-10",children:[(0,a.jsx)("h1",{className:"text-4xl font-extrabold text-white mb-4",children:"The IG Interview Coach"}),(0,a.jsx)("p",{className:"text-xl text-slate-300",children:"login"===m?"Sign in to your account":"Create a new account"})]}),(0,a.jsxs)("div",{className:"bg-slate-800 p-8 rounded-lg shadow-md border border-slate-700",children:[(0,a.jsxs)("form",{className:"space-y-6",onSubmit:b,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-300 mb-2",children:"Email address"}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>t(e.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-teal-500 focus:border-teal-500 text-white placeholder-slate-400",placeholder:"you@example.com"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-300 mb-2",children:"Password"}),(0,a.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"login"===m?"current-password":"new-password",required:!0,value:s,onChange:e=>n(e.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-teal-500 focus:border-teal-500 text-white placeholder-slate-400",placeholder:"••••••••"})]}),c&&(0,a.jsx)("div",{className:"p-3 text-sm text-red-200 bg-red-900/50 border border-red-700 rounded-md",children:c}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:o,className:"w-full px-4 py-2 bg-teal-500 text-white rounded-md hover:bg-teal-600 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 focus:ring-offset-slate-800 disabled:opacity-50",children:o?"Processing...":"login"===m?"Sign in":"Sign up"})})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-slate-600"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"px-2 bg-slate-800 text-slate-300",children:"login"===m?"New to the platform?":"Already have an account?"})})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsx)("button",{type:"button",onClick:()=>h("login"===m?"signup":"login"),className:"text-teal-400 hover:text-teal-300 font-medium",children:"login"===m?"Create a new account":"Sign in to existing account"})})]})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsx)(i(),{href:"/",className:"text-slate-400 hover:text-white",children:"← Back to home"})})]})})}},451:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>u,A:()=>m,r:()=>h});var a=s(2860),l=s(3200),r=s(4100),n=s(4916);let i="https://snhezroznzsjcqqxpjpp.supabase.co",o=(0,r.UU)(i,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNuaGV6cm96bnpzamNxcXhwanBwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU2OTM0NDcsImV4cCI6MjA2MTI2OTQ0N30.KyySx7uxtC_GRB_NF9DYCA9N350ajZ1uQ6hvYDkHiLY"),d=n.env.SUPABASE_SERVICE_ROLE_KEY||"your-service-key",c=((0,r.UU)(i,d),(0,l.createContext)(void 0));function u(e){let{children:t}=e,[s,r]=(0,l.useState)(null),[n,i]=(0,l.useState)(!0);(0,l.useEffect)(()=>{(async()=>{var e;let{data:{session:t}}=await o.auth.getSession();r(null!==(e=null==t?void 0:t.user)&&void 0!==e?e:null),i(!1)})();let{data:{subscription:e}}=o.auth.onAuthStateChange((e,t)=>{var s;r(null!==(s=null==t?void 0:t.user)&&void 0!==s?s:null),i(!1)});return()=>{e.unsubscribe()}},[]);let d=async(e,t)=>{let{error:s}=await o.auth.signInWithPassword({email:e,password:t});return{error:s}},u=async(e,t)=>{let{error:s}=await o.auth.signUp({email:e,password:t});return{error:s}},m=async()=>{await o.auth.signOut()},h=async e=>{let{error:t}=await o.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/reset-password")});return{error:t}};return(0,a.jsx)(c.Provider,{value:{user:s,loading:n,signIn:d,signUp:u,signOut:m,resetPassword:h},children:t})}function m(){let e=(0,l.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function h(e){return function(t){let{user:s,loading:l}=m();return l?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-slate-900",children:(0,a.jsxs)("div",{className:"w-full max-w-md p-8 bg-slate-800 rounded-lg shadow-md border border-slate-700",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-center text-white mb-6",children:"Loading..."}),(0,a.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-2.5 mb-4",children:(0,a.jsx)("div",{className:"bg-teal-500 h-2.5 rounded-full animate-pulse",style:{width:"70%"}})})]})}):s?(0,a.jsx)(e,{...t,user:s}):(window.location.href="/login",null)}}}},e=>{var t=t=>e(e.s=t);e.O(0,[100,612,685,411,358],()=>t(515)),_N_E=e.O()}]);